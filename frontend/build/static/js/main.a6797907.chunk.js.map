{"version":3,"sources":["images/Edit-Button.svg","images/Vector5.svg","images/Vector3.svg","images/Group.svg","images/Vector2.svg","context/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","images/Vector.svg","components/Header.js","images/Close-icon.svg","components/PopupImage.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","mestoAuth.js","components/Register.js","components/ProtectedRoute.js","images/Union.svg","images/Union-2.svg","components/InfoToolTip.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","link","name","likes","owner","onCardClick","onCardLike","onCardDelete","cardId","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","isLiked","some","i","cardLikeButtonClassName","className","onClick","type","src","Delete","alt","vector2","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","handleDeleteCard","context","vector5","avatar","style","backgroundImage","about","edit","vector3","map","props","Footer","Header","handleSignOut","email","exact","path","vector","to","ImagePopup","card","onClose","close","api","baseUrl","headers","this","_baseUrl","_headers","fetch","method","then","_handleResOk","data","body","JSON","stringify","Promise","all","getInitialCards","getUserId","like","res","ok","json","reject","status","authorization","PopupWithForm","title","isOpen","children","button","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","required","minLength","maxLength","id","EditAvatarPopup","onUpdateAvatar","inputRef","useRef","current","ref","AddPlacePopup","onUpdatePlace","place","setPlace","setLink","Login","handleLogin","password","setData","handleChange","console","log","BASE_URL","Register","handleRegister","showPopup","useHistory","ProtectedRoute","Component","component","loggedIn","InfoToolTip","denied","accept","App","setCards","history","setCurrentUser","setLoggedIn","userData","setUserData","catch","item","isEditProfilePopupOpen","editOpen","isEditAvatarPopupOpen","avatarOpen","isAddPlacePopupOpen","placeOpen","selectedCard","isInfoToolTipOpen","toolOpen","setStatus","closeAllPopups","tokenCheck","token","jwt","localStorage","getItem","error","push","removeItem","Provider","response","setItem","err","mestoAuth","user","statusCode","Error","likeCard","newCard","newCards","c","deleteCard","filter","addCards","finally","addAvatarId","addUserId","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a6797907.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Edit-Button.8667ac4a.svg\";","export default __webpack_public_path__ + \"static/media/Vector5.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/Vector3.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/Group.cbc09a89.svg\";","export default __webpack_public_path__ + \"static/media/Vector2.49570bcb.svg\";","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()","import Delete from \"../images/Group.svg\";\nimport vector2 from \"../images/Vector2.svg\";\nimport React from 'react'\nimport { CurrentUserContext } from '../context/CurrentUserContext'\n\n\nfunction Card({ link, name, likes, owner, onCardClick , onCardLike, onCardDelete, cardId}) {\n  function handleClick() {\n    onCardClick({ link, name });\n  }\n  const currentUser = React.useContext(CurrentUserContext)\nfunction handleClickLike(){\n  onCardLike({likes, cardId})\n}\nfunction handleDeleteClick(){\n  onCardDelete({owner, cardId})\n}\n\nconst isOwn = owner._id === currentUser._id;\n\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\nconst cardDeleteButtonClassName = (\n  `element__delete ${!isOwn ? 'button_visibility' : ''}`\n);\n\nconst isLiked = likes.some(i => i._id === currentUser._id);\n\nconst cardLikeButtonClassName = (\n  `element__like ${isLiked ? 'element__like_active' : ''}`\n); \n\n  return (\n    \n    <div className=\"element\">\n      <button className='button_type_delete' onClick={handleDeleteClick} type=\"button\">\n        <img className={cardDeleteButtonClassName} src={Delete} alt=\"Удаление\" />\n      </button>\n      <button\n        className=\"button button_type_image\"\n        onClick={handleClick}\n        type=\"button\"\n      >\n        <img className=\"element__image\" src={link} alt=\"Картинка\" />\n      </button>\n      <div className=\"element__group\">\n        <h2 className=\"element__title\">{name}</h2>\n        <div className=\"element__like_groupe\">\n          <button className='button_type_like' type=\"button\" onClick={handleClickLike}>\n            <img className={cardLikeButtonClassName} src={vector2}  alt=\"Лайк\" />\n          </button>\n          <p className=\"element__like_number\">{likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Card;\n","import edit from \"../images/Edit-Button.svg\";\nimport vector5 from \"../images/Vector5.svg\";\nimport vector3 from \"../images/Vector3.svg\";\n\nimport Card from \"./Card\";\nimport React from 'react'\nimport { CurrentUserContext } from '../context/CurrentUserContext'\n\nfunction Main({\n  onCardClick,\n  onEditProfile,\n  onAddPlace,\n  onEditAvatar,\n  cards,\n  onCardLike,\n  handleDeleteCard\n}) \n{ \n  \n\n  const context = React.useContext(CurrentUserContext);\n  \n  \n  return (\n    <>\n\n      <section className=\"profile\">\n        <div className=\"profile__groupe\">\n          <img className=\"profile__image\" src={vector5} alt=\"\"/>\n          <button className=\"button_type_avatar\" onClick={onEditAvatar}>\n            <img\n              className=\"profile__avatar\"\n              alt=\"Кусто\"\n              src={context.avatar}\n              style={{ backgroundImage: `url(${context.avatar})` }}\n            />\n          </button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__title\">{context.name}</h1>\n            <p className=\"profile__subtitle\">{context.about}</p>\n          </div>\n          <button\n            className=\"button button_type_edit\"\n            type=\"button\"\n            onClick={onEditProfile}\n          >\n            <img\n              className=\"profile__edit-button\"\n              src={edit}\n              alt=\"редактировать\"\n            />\n          </button>\n        </div>\n        <button\n          className=\"button button_type_add\"\n          type=\"button\"\n          onClick={onAddPlace}\n        >\n          <img className=\"profile__add-button\" src={vector3} alt=\"плюс\" />\n        </button>\n      </section>\n\n      <section className=\"elements\">\n        {cards.map(({ _id, ...props }) => (\n          <Card key={_id} {...props} cardId={_id} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={handleDeleteCard}/>\n        ))}\n      </section>\n    </>\n  );\n}\nexport default Main;\n","\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/Vector.a307e1c4.svg\";","import { Route, Switch, Link } from \"react-router-dom\";\nimport vector from \"../images/Vector.svg\";\n\nfunction Header({handleSignOut, email}) {\n  // function signOut(){\n  //   handleSignOut()\n  // }\n\n  return (\n    <Switch>\n    <Route exact path=\"/\"> \n    <header className=\"header\">\n      <img className=\"header__logo\" alt=\"Место\" src={vector} />\n      <p className=\"header__email\">{email}</p>\n      <button className=\"header__signout\" onClick={handleSignOut}>Выход</button>\n    </header>\n    </Route>\n    <Route path=\"/signin\">\n    <header className=\"header\">\n      <img className=\"header__logo\" alt=\"Место\" src={vector} />\n      <Link to=\"/signup\" className=\"header__signout\">Зарегистрироваться</Link>\n    </header>\n    </Route>\n    <Route path=\"/signup\">\n    <header className=\"header\">\n      <img className=\"header__logo\" alt=\"Место\" src={vector} />\n     \n      <Link to=\"/signin\" className=\"header__signout\">Войти</Link>\n    </header>\n    </Route>\n    </Switch>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/Close-icon.118074ba.svg\";","import close from \"../images/Close-icon.svg\";\n\nfunction ImagePopup({ card, onClose }) {\n  return (\n    <section className={`popup popup_modal ${card && \"popup_is-opened\"}`}>\n      <div className=\"popup__group\">\n        <button\n          className=\"button button_type_close\"\n          type=\"button\"\n          onClick={onClose}\n        >\n          <img\n            src={close}\n            alt=\"Крестик закрытия\"\n            className=\"popup__close-icon\"\n          />\n        </button>\n        <img\n          className=\"popup__image\"\n          src={card ? card.link : \"popup_is-opened\"}\n          alt=\"Картинка\"\n        />\n        <p className=\"popup__subtitle\">\n          {card ? card.name : \"popup_is-opened\"}\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default ImagePopup;\n","/* eslint-disable no-useless-concat */\nexport class Api {\n  constructor({ baseUrl, headers}) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n    \n\n  }\n\n  getInitialCards() {\n    return fetch(this._baseUrl + \"cards\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._handleResOk);\n  }\n\n  addCards(data) {\n    return fetch(this._baseUrl + \"cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      }),\n    }).then(this._handleResOk);\n  }\n\n  addUserId(data) {\n    return fetch(this._baseUrl + \"users\" + \"/\" + \"me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      }),\n    }).then(this._handleResOk);\n  }\n\n  getUserId() {\n    return fetch(this._baseUrl + \"users\" + \"/\" + \"me\", {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._handleResOk);\n  }\n\n  addAvatarId(data) {\n    return fetch(this._baseUrl + \"users\" + \"/\" + \"me\" + \"/\" + \"avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: data.avatar,\n      }),\n    }).then(this._handleResOk);\n  }\n\n  getAllNeededData() {\n    return Promise.all([this.getInitialCards(), this.getUserId()]);\n  }\n\n  deleteCard(_id) {\n    return fetch(this._baseUrl + \"cards/\" + _id, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleResOk);\n  }\n\n  likeCard(_id, like) {\n    // console.log(isLiked)\n    return fetch(`${this._baseUrl}cards/likes/${_id}`, {\n      method: like ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n      \n    }).then(this._handleResOk);\n    \n  }\n\n\n  _handleResOk(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-18/\",\n  headers: {\n    authorization: \"a40cc85c-64a0-4b1f-ad4a-926989d9eacf\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import close from \"../images/Close-icon.svg\";\n\nfunction PopupWithForm({ title, name, isOpen, children, onClose, button, onSubmit }) {\n  return (\n    <section className={`popup popup_${name} ${isOpen}`}>\n      <div className=\"popup__container\">\n        <form className=\"popup__content\" name={name} onSubmit={onSubmit}>\n          <button\n            className=\"button button_type_close\"\n            onClick={onClose}\n            type=\"button\"\n          >\n            <img\n              src={close}\n              alt=\"Крестик закрытия\"\n              className=\"popup__close-icon\"\n            />\n          </button>\n          <h2 className=\"popup__title\">{title}</h2>\n          {children}\n          <button className=\"button button_type_save\" type=\"submit\">\n            {button}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../context/CurrentUserContext'\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}){\n    const [name, setName] = React.useState('')\n    const [description, setDescription] = React.useState('')\n    const currentUser = React.useContext(CurrentUserContext);\n    function handleNameChange(e){\n        setName(e.target.value)\n    }\n    function handleDescriptionChange(e){\n        setDescription(e.target.value)\n    }\n\n\n   \n\n// После загрузки текущего пользователя из API\n// его данные будут использованы в управляемых компонентах.\nReact.useEffect(() => {\n  setName(currentUser.name || '');\n  setDescription(currentUser.about || '');\n}, [currentUser]); \n\n\nfunction handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n    return (\n    <PopupWithForm\n          title=\"Редактировать профиль\"\n          name=\"edit\"\n          isOpen={isOpen ? \"popup_is-opened\" : \"\"}\n          onClose={onClose}\n          onSubmit={handleSubmit}\n          button=\"Сохранить\"\n          children={\n            <>\n              <input\n                value={name}\n                onChange={handleNameChange}\n                placeholder='Имя'\n                required\n                type=\"text\"\n                name='name'\n                minLength=\"2\"\n                maxLength=\"40\"\n                id=\"name-profile\"\n                className=\"popup__name popup__name_type_title\"\n              />\n              <span id=\"name-profile-error\" className=\"error\"></span>\n              <input\n              onChange={handleDescriptionChange}\n                value={description}\n                placeholder='О себе'\n                required\n                type=\"text\"\n                name='about'\n                minLength=\"2\"\n                maxLength=\"200\"\n                id=\"secondname-profile\"\n                className=\"popup__name popup__name_type_subtitle\"\n              />\n              <span id=\"secondname-profile-error\" className=\"error\"></span>\n            </>\n          }\n        />\n    )\n}\n\nexport default EditProfilePopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\n\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}){\nconst inputRef = React.useRef()\n\n\n    function handleSubmit(e) {\n        e.preventDefault();\n      \n        onUpdateAvatar({\n          avatar: inputRef.current.value,\n        });\n      }\n      \n\n\n    return( \n    <PopupWithForm\n        title=\"Обновить профиль\"\n        name=\"avatar\"\n        isOpen={isOpen ? \"popup_is-opened\" : \"\"}\n        onClose={onClose}\n        button=\"Сохранить\"\n        onSubmit={handleSubmit}\n        children={\n          <>\n            <input\n                ref={inputRef}\n              placeholder ='Ссылка на картинку'\n              required\n              type=\"url\"\n              name=\"avatar\"\n              minLength=\"2\"\n              id=\"link\"\n              className=\"popup__name popup__place_type_subtitle\"\n            />\n            <span id=\"link-error\" className=\"error\"></span>\n          </>\n        }\n      />)\n}\n\nexport default EditAvatarPopup","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\n\nfunction AddPlacePopup({isOpen, onClose, onUpdatePlace}){\n\n    const [place, setPlace] = React.useState('')\n    const [link, setLink] = React.useState('')\n\n    function handleNameChange(e){\n        setPlace(e.target.value)\n    }\n    function handleLinkChange(e){\n        setLink(e.target.value)\n    }\n\n\n      function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n      \n        // Передаём значения управляемых компонентов во внешний обработчик\n        onUpdatePlace({\n          name: place,\n          link\n        });\n      }\n      \n\n    return(<PopupWithForm\n        title=\"Добавить карточку\"\n        name=\"add\"\n        isOpen={isOpen ? \"popup_is-opened\" : \"\"}\n        onClose={onClose}\n        button=\"Создать\"\n        onSubmit={handleSubmit}\n        children={\n          <>\n            <input\n            value={place}\n            onChange={handleNameChange}\n              placeholder=\"Название\"\n              required\n              type=\"text\"\n              name=\"place\"\n              minLength=\"2\"\n              \n              id=\"name-card\"\n              className=\"popup__name popup__place_type_title\"\n            />\n            <span id=\"name-card-error\" className=\"error\"></span>\n            <input\n            onChange={handleLinkChange}\n                value={link}\n              placeholder=\"Ссылка на картинку\"\n              required\n              type=\"url\"\n              name=\"link\"\n              minLength=\"2\"\n              maxLength=\"200\"\n              id=\"secondname\"\n              className=\"popup__name popup__place_type_subtitle\"\n            />\n            <span id=\"link-error\" className=\"error\"></span>\n          </>\n        }\n      />)\n}\n\n\nexport default AddPlacePopup","\nimport { useState } from \"react\"\nfunction Login({ handleLogin }){\nconst [data, setData] = useState({\nemail:'',\npassword:''\n})\nfunction handleChange (e){\n  const {name, value} = e.target;\nsetData({\n  ...data,\n  [name]: value\n})\n\n}\n\n\n\nconst handleSubmit = (e) =>{\n  console.log(e)\ne.preventDefault();\nif(!data.email || !data.password){\n  return;\n}\n\nhandleLogin(data.email, data.password)\n}\n\nreturn(\n\n    <section className=\"login\" >\n      <form className=\"login__form\" onSubmit={handleSubmit}>\n        <h1 className=\"login__title\">Вход</h1>\n        <input\n                value={data.email}\n                onChange={handleChange}\n                placeholder='Логин'\n                required\n                type=\"text\"\n                name='email'\n                minLength=\"2\"\n                maxLength=\"40\"\n                id=\"email\"\n                className=\"login__name login__name_title\"\n              />\n              <input\n              onChange={handleChange}\n                value={data.password}\n                placeholder='Пароль'\n                required\n                type=\"text\"\n                name='password'\n                minLength=\"2\"\n                maxLength=\"200\"\n                id=\"password\"\n                className=\"login__name login__name_subtitle\"\n              />\n              <button className=\"login__button\" type=\"submit\">Войти</button>\n              </form>\n    </section>\n    )\n}\n\nexport default Login","export const BASE_URL = \"https://auth.nomoreparties.co\"\n\nexport const register = (email, password) =>{\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({email, password})\n      })\n    .then((response)=> response.json())\n}\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n        console.log(data)\n      if (data.token){\n        localStorage.setItem('token', data.token);\n        return data;\n      }\n      else {\n          return;\n      } \n    })\n    .catch(err => console.log(err))\n  };\n  \n  export const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n  }\n  \n  ","import { Link, useHistory } from \"react-router-dom\";\nimport { useState } from \"react\"\nimport * as mestoAuth from \"../mestoAuth\"\nfunction Register({ handleRegister, showPopup }){\nconst [data, setData] = useState({\nemail:'',\npassword:''\n})\nconst [message, setMessage] = useState('');\nconst history = useHistory();\n\nconst  handleChange = (e) => {\n  const {name, value} = e.target;\nsetData({\n  ...data,\n  [name]:value\n})\nconsole.log(e)\n}\nconst handleSubmit = (e) => {\n  e.preventDefault()\nshowPopup()\n    handleRegister(data.email, data.password)\n\n}\n\n\n\n    return(\n    \n        <section className=\"register\" >\n          <form className=\"register__form\" onSubmit={handleSubmit}>\n            <h1 className=\"register__title\">Регистрация</h1>\n            <input\n                    value={data.email}\n                    onChange={handleChange}\n                    placeholder='Логин'\n                    required\n                    type=\"text\"\n                    name='email'\n                    minLength=\"2\"\n                    maxLength=\"40\"\n                    id=\"email\"\n                    className=\"register__name register__name_title\"\n                  />\n                  <input\n                  onChange={handleChange}\n                    value={data.password}\n                    placeholder='Пароль'\n                    required\n                    type=\"text\"\n                    name='password'\n                    minLength=\"2\"\n                    maxLength=\"200\"\n                    id=\"password\"\n                    className=\"register__name register__name_subtitle\"\n                  />\n                  <button className=\"register__button\" type=\"submit\" >Зарегистрироваться</button>\n                  <Link to=\"/signin\" className=\"register__signin\">Уже зарегестрированы? Войти</Link>\n                  </form>\n        </section>\n        )\n    }\n    export default Register","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({component: Component, ...props}) => {\n  return (\n    <Route>\n      {\n        () =>props.loggedIn ? <Component {...props} /> :<Redirect to='./signin' />\n      }\n      </Route>\n)};\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/Union.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Union-2.df8eddf6.svg\";","import close from \"../images/Close-icon.svg\";\nimport accept from \"../images/Union.svg\";\nimport denied from \"../images/Union-2.svg\";\n\nfunction InfoToolTip({ isOpen, onClose,  status }) {\n\n\n\n  return (\n    <section className={`popup popup_info ${isOpen ? 'popup_is-opened' : ''}`}>\n      <div className=\"popup__container\">\n        <button\n          className=\"button button_type_close\"\n          type=\"button\"\n          onClick={onClose}\n        >\n          <img\n            src={close}\n            alt=\"Крестик закрытия\"\n            className=\"popup__close-icon\"\n          />\n        </button>\n        {status === 'error' ?  \n        <>\n        <img\n          className=\"popup__image popup__image_denied\"\n          src={denied}\n          alt=\"Картинка\"\n        />\n        <p className=\"popup__title\">\n          Что-то не так! Попробуйте еще раз.\n        </p> \n        </> :  <>\n        <img\n          className=\"popup__image popup__image_denied\"\n          src={accept}\n          alt=\"Картинка\"\n        />\n        <p className=\"popup__title\">\n          Вы успешно зарегестрировались!\n        </p> \n        </>\n        }\n      </div>\n    </section>\n  );\n}\n\n\nexport default InfoToolTip;","import Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ImagePopup from \"./PopupImage\";\nimport React from \"react\";\nimport api from \"../utils/api\";\nimport { CurrentUserContext } from '../context/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { Route, Switch, useHistory } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Register from \"./Register\"\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as mestoAuth from \"../mestoAuth\"\nimport InfoToolTip from \"./InfoToolTip\";\n\nfunction App() {\n \n  const [cards, setCards] = React.useState([]);\n  const history = useHistory();\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [loggedIn, setLoggedIn] = React.useState(false)\n  const [userData, setUserData] = React.useState('')\n  \n  function handleUpdateUser({name, about}){\n \n      api.addUserId({name, about}).then((res) => {\n        setCurrentUser({\n          name: res.name, about:res.about, avatar: res.avatar})\n      }).catch((res)=>{\n        console.log(res)\n      }).finally(()=>{\n        closeAllPopups()\n      });\n    };\n\n    \n    function handleUpdateAvatar({avatar}){\n \n      api.addAvatarId({avatar}).then((res) => {\n        setCurrentUser({\n   avatar: res.avatar, name: res.name, about:res.about})\n      }).catch((res)=>{\n        console.log(res)\n      }).finally(()=>{\n        closeAllPopups()\n      });\n    };\n\n \n  React.useEffect(() => {\n    api.getUserId().then((res) => {\n      setCurrentUser({\n        name: res.name,\n        about: res.about,\n        avatar: res.avatar,\n        _id: res._id\n      })\n    }).catch((res)=>{\n      console.log(res)\n    });\n  }, []);\n\n\n\n\n  React.useEffect(() => {\n    api.getInitialCards().then((item) => {\n      setCards(item);\n    }).catch((res)=>{\n      console.log(res)\n    });\n  }, []);\n  \nfunction handleAddPlaceSubmit({name, link}){\n  api.addCards({name, link}).then(newCard => {\n    setCards([newCard, ...cards]);\n  }).catch((res)=>{\n    console.log(res)\n  }).finally(()=>{\n    closeAllPopups()\n  });;\n};\n\n\nfunction handleDeleteCard({cardId}) {\n  \n  api.deleteCard(cardId).then(() => {\n    const newCards = cards.filter(card => card._id !== cardId);\n    setCards(newCards);\n  });\n}\n\n\n  function handleCardLike({likes, cardId}) {\n    const isLiked = likes.some(i => {return i._id === currentUser._id});\n  \n    api.likeCard(cardId, !isLiked).then((newCard) => {\n      console.log(isLiked)\n      const newCards = cards.map((c) => {return c._id === cardId ? newCard : c});\n      setCards(newCards);\n    });\n}\n\n\nconsole.log(cards)\n  const [isEditProfilePopupOpen, editOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, avatarOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, placeOpen] = React.useState(false);\n  const [card, selectedCard] = React.useState(null);\n  const [isInfoToolTipOpen, toolOpen] = React.useState(false);\n  const [status, setStatus] = React.useState(false)\n  const handleCardClick = ({link, name}) => {\n    selectedCard({link, name});\n  };\n  function handleInfoToolClick () {\n    toolOpen(true)\n  }\n  function handleEditEditClick() {\n    editOpen(true);\n  }\n  function handleEditAvatarClick() {\n    avatarOpen(true);\n  }\n  function handleEditAddClick() {\n    placeOpen(true);\n  }\n  function closeAllPopups() {\n    placeOpen(false);\n    avatarOpen(false);\n    editOpen(false);\n    toolOpen(false)\n    selectedCard(null);\n  }\nconst tokenCheck = () =>{\n  const jwt = localStorage.getItem('token')\n  if (jwt) {\n    \n    mestoAuth.getContent(jwt)\n    .then((res) =>{\n      console.log(res)\n      if(res){\n        setUserData({\n          ...userData,\n          email: res.data.email,\n        })\n        setLoggedIn(true)\n      }\n    })\n    .catch(e => console.error(e))\n  }\n  else {\n    setLoggedIn(false)\n  }\n  \n}\nReact.useEffect(() =>{\n  tokenCheck();\n}, [])\nReact.useEffect(() =>{\n  if(loggedIn){\n    history.push('/')\n  }\n}, [loggedIn])\n\n  const handleRegister = (email, password) => {\n    \n    mestoAuth.register(email, password)\n    .then((res) =>{\n      console.log(res)\n      if(res.statusCode !== 400){\n        setStatus(true)\n        history.push('/signin')\n      }\n      else {\n        throw new Error('Что-то пошло не так')\n      }\n     \n    })\n    .catch((e) => console.log(e));\n  }\n  const handleLogin = (email, password) =>{\n    mestoAuth.authorize(email, password)\n.then((data) => {\n \n  if(data.token){\n    history.push('/')\n  localStorage.setItem('token', data.token)\n  setLoggedIn(true)\n  setUserData({\n    ...userData,\n    email: data.user.email,\n  })\n  }\n  if(data.statusCode === 400){\n    throw new Error('Что-то пошло не так')\n  }\n})\n.catch((e) => console.log(e));\n  }\n\nconst handleSignOut = () =>{\n  setLoggedIn(false)\n  localStorage.removeItem('token')\n}\n\n  return (\n      <div className=\"page\">\n   <CurrentUserContext.Provider value={currentUser}>\n   <Header handleSignOut={handleSignOut} email={userData.email}/>\n     <Switch>\n      <Route path=\"/signin\" >\n        <Login handleLogin={handleLogin}/>  \n     </Route>\n        <Route path=\"/signup\" >\n          <Register handleRegister={handleRegister} showPopup={handleInfoToolClick}/>\n        </Route>\n        <ProtectedRoute path=\"/\" component={Main} \n        handleSignOut = {handleSignOut}\n        onCardClick={handleCardClick}\n          onEditProfile={handleEditEditClick}\n          onAddPlace={handleEditAddClick}\n          onEditAvatar={handleEditAvatarClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          handleDeleteCard={handleDeleteCard}\n          loggedIn={loggedIn}/>\n     </Switch>\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onUpdatePlace={handleAddPlaceSubmit}/>\n       <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n       <InfoToolTip onClose={closeAllPopups} isOpen={isInfoToolTipOpen} status={status}/>\n        <ImagePopup card={card} onClose={closeAllPopups} />\n        <Footer />\n       \n        </CurrentUserContext.Provider>\n        \n      </div>\n   \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}